<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Parking System | NextGen</title>
    <link rel="stylesheet" href="style.css">
    <!-- Google Fonts -->
    <link
        href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700&family=JetBrains+Mono:wght@400;700&display=swap"
        rel="stylesheet">
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- GSAP for Animations -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
</head>

<body>
    <div class="app-container">
        <!-- Sidebar Navigation -->
        <aside class="sidebar">
            <div class="brand">
                <div class="logo-icon">P</div>
                <h2>Smart<span class="highlight">Park</span></h2>
            </div>

            <nav class="nav-menu">
                <div class="nav-category">MENU</div>
                <a href="#" class="nav-link active" data-page="dashboard">
                    <span class="icon">üìä</span> Dashboard
                </a>
                <a href="#" class="nav-link" data-page="zones">
                    <span class="icon">üÖøÔ∏è</span> Parking Zones
                </a>
                <a href="#" class="nav-link" data-page="requests">
                    <span class="icon">üìù</span> Requests
                </a>
                <a href="#" class="nav-link" data-page="analytics">
                    <span class="icon">üìà</span> Analytics
                </a>
            </nav>

            <div class="sidebar-footer">
                <div class="system-status">
                    <div class="status-indicator online"></div>
                    <span id="system-status-text">System Online</span>
                </div>
                <button id="mode-toggle" class="btn-toggle">
                    <span class="curr-mode">Live Mode</span>
                </button>
            </div>
        </aside>

        <!-- Main Content Area -->
        <main class="main-content">
            <!-- Top Header -->
            <header class="top-header">
                <div class="header-title">
                    <h1 id="page-title">Dashboard Overview</h1>
                    <p id="current-date">October 24, 2026</p>
                </div>
                <div class="header-actions">
                    <div class="search-bar">
                        <input type="text" placeholder="Search vehicle or zone...">
                        <span class="search-icon">üîç</span>
                    </div>
                    <button class="btn-icon notification-btn">üîî<span class="dot"></span></button>
                    <div class="user-profile">
                        <div class="avatar">A</div>
                    </div>
                </div>
            </header>

            <!-- Dynamic Content Container -->
            <div id="content-area">

                <!-- DASHBOARD VIEW -->
                <div id="dashboard" class="page-view active">
                    <!-- Stats Overview -->
                    <div class="stats-grid">
                        <div class="stat-card glass">
                            <div class="stat-icon-wrapper blue">
                                <span class="stat-icon">üè¢</span>
                            </div>
                            <div class="stat-info">
                                <h3>Total Zones</h3>
                                <div class="stat-value" id="total-zones">0</div>
                            </div>
                            <div class="stat-chart-mini">
                                <!-- Mini chart canvas or SVG -->
                            </div>
                        </div>

                        <div class="stat-card glass">
                            <div class="stat-icon-wrapper purple">
                                <span class="stat-icon">üöó</span>
                            </div>
                            <div class="stat-info">
                                <h3>Occupancy</h3>
                                <div class="stat-value" id="occupied-slots">0/0</div>
                            </div>
                            <div class="stat-metric-bar">
                                <div class="bar-bg">
                                    <div class="bar-fill" id="occupancy-bar" style="width: 0%"></div>
                                </div>
                            </div>
                        </div>

                        <div class="stat-card glass">
                            <div class="stat-icon-wrapper orange">
                                <span class="stat-icon">‚è≥</span>
                            </div>
                            <div class="stat-info">
                                <h3>Active Requests</h3>
                                <div class="stat-value" id="active-requests">0</div>
                            </div>
                        </div>

                        <div class="stat-card glass">
                            <div class="stat-icon-wrapper green">
                                <span class="stat-icon">‚ö°</span>
                            </div>
                            <div class="stat-info">
                                <h3>Utilization</h3>
                                <div class="stat-value" id="utilization">0%</div>
                            </div>
                        </div>
                    </div>

                    <!-- Main Dashboard Sections -->
                    <div class="dashboard-layout">
                        <!-- Left: Live Zone Map -->
                        <div class="section-card glass zone-map-section">
                            <div class="card-header">
                                <h3>Live Parking Map</h3>
                                <div class="card-actions">
                                    <span class="legend-item"><span class="dot free"></span> Free</span>
                                    <span class="legend-item"><span class="dot occupied"></span> Occupied</span>
                                </div>
                            </div>
                            <div id="zones-overview" class="zones-visualizer">
                                <!-- Dynamic Zone Grid -->
                                <div class="loading-spinner"></div>
                            </div>
                        </div>

                        <!-- Right: Recent Activity -->
                        <div class="section-card glass activity-section">
                            <div class="card-header">
                                <h3>Real-time Activity</h3>
                            </div>
                            <div id="recent-activity" class="activity-feed custom-scrollbar">
                                <!-- Activity Items -->
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ZONES VIEW -->
                <div id="zones" class="page-view">
                    <div class="view-header">
                        <button class="btn-primary glow" onclick="showCreateZoneModal()">+ Add New Zone</button>
                    </div>
                    <div id="zones-detailed" class="zones-detailed-grid">
                        <!-- Detailed Zones -->
                    </div>
                </div>

                <!-- REQUESTS VIEW -->
                <div id="requests" class="page-view">
                    <div class="view-header">
                        <button class="btn-primary glow" onclick="showNewRequestModal()">+ New Request</button>
                        <div class="filter-tabs">
                            <button class="filter-tab active" data-filter="all">All</button>
                            <button class="filter-tab" data-filter="REQUESTED">Pending</button>
                            <button class="filter-tab" data-filter="ALLOCATED">Active</button>
                        </div>
                    </div>
                    <div class="table-container glass">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Vehicle</th>
                                    <th>Zone</th>
                                    <th>Status</th>
                                    <th>Time</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="requests-table-body">
                                <!-- Table Rows -->
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- ANALYTICS VIEW -->
                <div id="analytics" class="page-view">
                    <div class="analytics-layout">
                        <div class="chart-card glass full-width">
                            <h3>Occupancy Trends (24h)</h3>
                            <canvas id="occupancyChart"></canvas>
                        </div>
                        <div class="chart-card glass">
                            <h3>Zone Distribution</h3>
                            <canvas id="zoneDistChart"></canvas>
                        </div>
                        <div class="chart-card glass">
                            <h3>Vehicle Types</h3>
                            <canvas id="vehicleTypeChart"></canvas>
                        </div>
                    </div>
                </div>

            </div>
        </main>
    </div>

    <!-- Modals -->
    <div id="create-zone-modal" class="modal-backdrop">
        <div class="modal-window glass">
            <div class="modal-header">
                <h2>Create Parking Zone</h2>
                <button class="close-btn" onclick="closeModal('create-zone-modal')">√ó</button>
            </div>
            <form id="create-zone-form">
                <div class="form-group">
                    <label>Zone ID</label>
                    <input type="number" id="zone-id" class="glass-input" required>
                </div>
                <div class="form-group">
                    <label>Capacity</label>
                    <input type="number" id="zone-capacity" class="glass-input" value="10" required>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn-ghost" onclick="closeModal('create-zone-modal')">Cancel</button>
                    <button type="submit" class="btn-primary glow">Create Zone</button>
                </div>
            </form>
        </div>
    </div>

    <div id="new-request-modal" class="modal-backdrop">
        <div class="modal-window glass">
            <div class="modal-header">
                <h2>New Parking Request</h2>
                <button class="close-btn" onclick="closeModal('new-request-modal')">√ó</button>
            </div>
            <form id="new-request-form">
                <div class="form-group">
                    <label>Vehicle License Plate</label>
                    <input type="text" id="vehicle-id" class="glass-input" placeholder="e.g. AB-1234" required>
                </div>
                <div class="form-group">
                    <label>Preferred Zone</label>
                    <select id="requested-zone" class="glass-input" required>
                        <option value="">Auto-Assign</option>
                    </select>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn-ghost" onclick="closeModal('new-request-modal')">Cancel</button>
                    <button type="submit" class="btn-primary glow">Submit Request</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Audio Elements -->
    <audio id="car-horn-audio" src="assets/sounds/car-horn.mp3" preload="none"></audio>
    <audio id="notification-audio" src="assets/sounds/notification.mp3" preload="none"></audio>

    <div id="toast-container"></div>

    <script src="app.js"></script>
</body>

</html>